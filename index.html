<!DOCTYPE html>
<html>
<head>
  <title>Figma Comments</title>
</head>
<body>

  <h2>Figma Webhook Logs</h2>
  <div id="webhookLogs">Loading...</div>
  <h3>Latest Webhook Data</h3>
  <pre id="latestWebhookData">Fetching...</pre>
  <h3>Latest Webhook library Data</h3>
  <pre id="latestWebhookLibraryData">Fetching...</pre>

  <script>

    // 최신 웹훅 데이터를 가져옵니다.
    async function fetchLatestWebhookData() {
      const res = await fetch('/comment-ppool');
      const data = await res.json();
      document.getElementById('latestWebhookData').innerText = JSON.stringify(data, null, 2);
      console.log(data);
    }

        // 최신 웹훅 데이터를 가져옵니다.
        async function fetchLatestWebhookLibraryData() {
      const res = await fetch('/webhook-library');
      const data = await res.json();
      document.getElementById('latestWebhookLibraryData').innerText = JSON.stringify(data, null, 2);
      console.log(data);
    }

    fetchLatestWebhookData();  // 페이지 로드시 최초로 웹훅 데이터 가져오기
    fetchLatestWebhookLibraryData();
  </script>
</body>
</html>
